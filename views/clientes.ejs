<!-- views/clientes.ejs -->
<%- include('template/cabecera', { tituloweb: 'Página de Clientes' }) %>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CRUD MONGO DB - Clientes</title>
<style>
  .container {
    max-width: 960px;
  }
</style>
</head>
<div class="container">
  <h1 class="text-primary">Clientes</h1>
  <!-- Formulario para agregar nuevo cliente -->
  <form action="/crear" method="post">
    <label for="nombre" class="form-label">Nombre</label>
    <input id="nombre" name="nombre" type="text" class="form-control" required>
    <label for="direccion" class="form-label">Dirección</label>
    <input id="direccion" name="direccion" type="text" class="form-control" required>
    <label for="telefono" class="form-label">Teléfono</label>
    <input id="telefono" name="telefono" type="tel" class="form-control" required>
    <label for="documento" class="form-label">Documento</label>
    <input id="documento" name="documento" type="text" class="form-control" required>
    <button type="submit" class="w-100 btn btn-guardar btn-lg"><i class="bi bi-save"></i>Registrar Cliente</button>
  </form>

  <!-- Tabla de clientes -->
  <table id="tablaClientes" class="table mt-4">
    <thead>
      <tr>
        <th style="display: none;">ID</th>
        <th>Nombre</th>
        <th>Dirección</th>
        <th>Teléfono</th>
        <th>Documento</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% clientes.forEach((cliente) => { %>
        <tr>
          <td style="display: none;"><%= cliente._id %></td>
          <td><%= cliente.nombre %></td>
          <td><%= cliente.direccion %></td>
          <td><%= cliente.telefono %></td>
          <td><%= cliente.documento %></td>
          <td>
            <a type="button" class="btnEditar btn btn-outline-primary bi bi-pencil"></a>
            <a href="/borrar/<%= cliente._id %>" class="btn btn-outline-danger bi bi-trash"></a>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>

<div id="modalCliente" class="modal fade" tabindex="-1" aria-labelledby="modalCliente" aria-hidden="true">
  <!-- Contenido del modal para editar cliente -->
</div>

<%- include('template/footer') %>
